# Разработка приложения с использованием технологий Java EE

Студентам предлагается познакомиться с базовой технологией разработки Web-приложений на платформе Java® EE.
В ходе выполнения практических заданий реализуется проект, соотвествующий указанным ниже бизнес-требованиям.

## Описание бизнес-задачи
Необходимо спроектировать, создать и запустить сервис подбора отелей. 

**Основные бизнес-сущности:**
* пользователь: 
    * имя и фамилия;
    * адрес электронной почты;
    * дата рождения;
    * пол;
* отель:
    * название и краткое описание;
    * страна и город расположения;
    * количество звезд (0-5);
    * сайт отеля;
* отзыв об отеле:
    * дата посещения пользователем;
    * оценка (0-5) и текст отзыва;

**Основные кейсы использования:**
1. главная страница сервиса содержит список отелей (название, страна и город расположения, количество звезд, сайт отеля, средняя оценка пользователей);  
   пользователь может задавать фильтры по полям, сортировку, количество записей на странице;  
   при нажатии на название отеля пользователь попадает на карточку отеля;
   ссылка на вход в личный кабинет пользователя;

2. карточка отеля содержит: название, описание, страна и город расположения, количество звезд, сайт отеля, список отзывов об отеле;  
   список отзывов содержит: дату посещения, оценку, текст отзыва, возраст пользователя на момент посещения; пользователь может задавать сортировку и фильтр;

3. личный кабинет пользователя позволяет редактировать данные о себе, а также добавлять/редактировать/удалять отзывы об отелях;

4. аутентификация пользователя при переходе в личный кабинет (поля логин/пароль, кнопки войти/зарегестрироваться);  
   обеспечить сессионность, т.е. если пользователь уже вошел, при попытке входа в личный кабинет не отображать окно аутентификации;

5. некоторые пользователи являются администраторами ресурса; для таких пользователей в личном кабинете доступна ссылка в админку, позволяющую редактировать список отелей;   

## Примерный план выполнения задания

### Изучение и использование распределенной системы управления версиями (GIT)
* GIT:
    * работа с локальным репозиторием (создание, коммиты, ветки, устранение конфликтов);
    * работа с удаленным репозиторием (push/pull);

### Создание простого java приложения
* установка JDK, IDE Intellij IDEA:
    * написание "Привет, мир!";
    * написать класс, задокументировать его, добавить тесты; 
* установка системы авт. сборки Java приложений (Maven, Gradle) (компиляция, сборка jar, подключение сторонних библиотек, запуск тестов, генерация документации и т.д. и т.п.);

### Работа с базой данных, часть 1
* установка БД (например, H2/Derby/HSQLDB):
    * выполнение DDL/DML-запросов в консоли управления;
    * создание БД для выполнения практического задания (таблицы, поля таблиц, индексы);
* JDBC:
    * подключение jdbc-драйвера, создание соединения с базой данных;
    * выполнение sql-запросов (создание таблиц, индексов, минимальное наполнение данными, обработка SqlException);
    * парсинг результата выполнения запросов;
    * транзакции;

### Работа с базой данных, часть 2
* ORM и Hibernate:
    * создание entity, persistence-unit, маппинг сущности на таблицу БД;
    * подключение sql-скрипта инициализации базы данных и наполнение данными;
    * выполнение CRUD-запросов к сущностям, выполнение запросов с использование JOIN;
    * транзакции;
    * тесты сервиса БД;

### Создание сервлета
* установка сервера приложений;
* создание сервлета, обработка http-запросов, деплой сервлета на сервер приложений;
* уметь работать с параметрами запроса, заголовками, cookie, телом запроса;
* реализовать сервлет получающий любой http-запрос, в качестве ответа формировать json { messageBody: "${тут_тело_полученного_запроса}"};  
  также формировать в stdout json, сожержащий url-запроса, заголовки, параметры, тело;

### Создание backend-а
* создание REST API для работы с сущностями БД (ответы сервера в виде json, предусмотреть пагинацию, фильтрование, сортировку);
* валидация бинов запроса;
* добавление Basic-аутентификации в приложение (например, используя фильтры);
* тесты REST-контроллера;

### Создание frontend-а (в качестве источника данных использовать ранее реализованную backend часть)
* создание простой jsp-страницы (использовать Apache Struts) (или использовать какой-нибудь шаблонизатор);
* создание страниц просмотра списка сущностей, создания/редактирования/просмотра одной сущности;

### Сопровождение работающего приложения
* логирование работы приложения;
* создание журнала сообщений приложений (время, тип приложения, запрос, ответ), запись в журнал поступающих сообщений;
* публикация метрик приложения (JMX) (количество поступающий запросов, успешных, неуспешных); 
* реализация настроек приложения, возможность изменять настройки "на лету" (например, уметь изменять уровень логирования, включать режим "техобслуживания" на фронте для возможности обновить бэковую часть);
